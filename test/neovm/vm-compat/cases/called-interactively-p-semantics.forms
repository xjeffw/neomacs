; called-interactively-p should match Emacs KIND handling.
(called-interactively-p 'interactive)
(called-interactively-p 'any)
(called-interactively-p nil)
(condition-case err
    (called-interactively-p 'foo)
  (error err))

(let ((result nil))
  (fset 'neo-ci-test
        (lambda ()
          (interactive)
          (setq result (list (called-interactively-p 'interactive)
                             (called-interactively-p 'any)
                             (called-interactively-p nil)))))
  (call-interactively 'neo-ci-test)
  result)

(let ((result nil))
  (fset 'neo-ci-test2
        (lambda ()
          (interactive)
          (setq result (list (called-interactively-p 'interactive)
                             (called-interactively-p 'any)
                             (called-interactively-p nil)))))
  (command-execute 'neo-ci-test2)
  result)
