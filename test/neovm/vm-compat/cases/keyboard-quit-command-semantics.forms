; keyboard-quit should be fboundp/commandp and signal quit through command dispatch.
(fboundp 'keyboard-quit)
(commandp 'keyboard-quit)
(condition-case err
    (command-execute 'keyboard-quit)
  (quit (list 'quit (cdr err)))
  (error (list 'error (car err) (cdr err))))
(condition-case err
    (call-interactively 'keyboard-quit)
  (quit (list 'quit (cdr err)))
  (error (list 'error (car err) (cdr err))))
