; Runtime semantics lock-in for misc special forms currently implemented as stubs.

(fboundp 'with-syntax-table)
(special-form-p 'with-syntax-table)
(with-syntax-table (make-syntax-table) :ok)
(with-syntax-table (make-syntax-table) 1 2 3)
(let ((x 0))
  (with-syntax-table (progn (setq x (1+ x)) (make-syntax-table))
    x))
(condition-case err (with-syntax-table) (wrong-number-of-arguments (car err)))
(condition-case err
    (with-syntax-table (progn (signal 'error '("boom"))) 1)
  (error (car err)))

(fboundp 'track-mouse)
(special-form-p 'track-mouse)
(track-mouse :a :b)
(track-mouse)
(let ((x 0))
  (track-mouse
    (setq x 1)
    (setq x (+ x 1))
    x))
(condition-case err
    (track-mouse (signal 'error '("boom")))
  (error (car err)))
