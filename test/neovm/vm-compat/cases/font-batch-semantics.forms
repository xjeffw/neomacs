(fboundp 'list-fonts)
(condition-case err
    (list-fonts nil)
  (error (car err)))
(condition-case err
    (list-fonts (font-spec :family "x") (selected-frame))
  (error (car err)))
(condition-case err
    (list-fonts (font-spec :family "x") 999999)
  (error (car err)))
(condition-case err
    (list-fonts (font-spec :family "x"))
  (error (car err)))
(condition-case err
    (list-fonts)
  (error (car err)))

(fboundp 'find-font)
(condition-case err
    (find-font nil)
  (error (car err)))
(condition-case err
    (find-font (font-spec :family "x") (selected-frame))
  (error (car err)))
(condition-case err
    (find-font (font-spec :family "x") 999999)
  (error (car err)))
(condition-case err
    (find-font (font-spec :family "x"))
  (error (car err)))
(condition-case err
    (find-font)
  (error (car err)))

(fboundp 'clear-font-cache)
(condition-case err
    (clear-font-cache)
  (error (car err)))
(condition-case err
    (clear-font-cache nil)
  (error (car err)))

(fboundp 'font-family-list)
(condition-case err
    (font-family-list)
  (error (car err)))
(condition-case err
    (font-family-list nil)
  (error (car err)))
(condition-case err
    (font-family-list (selected-frame))
  (error (car err)))
(condition-case err
    (font-family-list 999999)
  (error (car err)))
(condition-case err
    (font-family-list nil nil)
  (error (car err)))
