(with-temp-buffer (insert "a b a b") (goto-char (point-min)) (search-forward "a" nil nil 1))
(with-temp-buffer (insert "a b a b") (goto-char (point-min)) (search-forward "a" nil nil 2))
(with-temp-buffer (insert "a b a b") (goto-char (point-min)) (condition-case err (search-forward "a" nil nil 3) (error (list (car err) (point)))))
(with-temp-buffer (insert "a b a b") (goto-char (point-max)) (search-backward "a" nil nil 2))
(with-temp-buffer (insert "a b a b") (goto-char (point-max)) (search-forward "a" nil nil -2))
(with-temp-buffer (insert "a b a b") (goto-char (point-min)) (search-backward "a" nil nil -2))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (condition-case err (search-forward "a" 2 nil 0) (error (car err))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (condition-case err (search-backward "a" 2 nil 0) (error (car err))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (let ((res (search-forward "z" nil t))) (list res (point))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (let ((res (search-forward "z" nil 'foo))) (list res (point))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (let ((res (search-forward "z" 2 'foo))) (list res (point))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (let ((res (search-forward "z" 2 t))) (list res (point))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (condition-case err (search-forward "z" 0 t) (error (car err))))
(with-temp-buffer (insert "abc") (goto-char (point-min)) (condition-case err (search-backward "z" 3 t) (error (car err))))
(with-temp-buffer (insert "x1 x2 x3") (goto-char (point-min)) (re-search-forward "x[0-9]" nil nil 2))
(with-temp-buffer (insert "x1 x2") (goto-char (point-min)) (condition-case err (re-search-forward "x[0-9]" nil nil 3) (error (list (car err) (point)))))
(with-temp-buffer (insert "x1 x2") (goto-char (point-min)) (let ((res (re-search-forward "x[0-9]" nil 'foo 3))) (list res (point))))
(with-temp-buffer (insert "x1 x2 x3") (goto-char (point-max)) (re-search-backward "x[0-9]" nil nil -1))
(with-temp-buffer (insert "a") (goto-char (point-min)) (condition-case err (search-forward "a" "x") (error (car (cdr err)))))
(with-temp-buffer (insert "a") (goto-char (point-min)) (condition-case err (search-forward "a" nil nil "x") (error (car (cdr err)))))
