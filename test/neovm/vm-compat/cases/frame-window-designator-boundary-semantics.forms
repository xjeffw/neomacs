(fboundp 'framep)
(fboundp 'windowp)
(eq (selected-frame) (selected-window))
(framep (selected-frame))
(framep (selected-window))
(windowp (selected-window))
(windowp (selected-frame))
(condition-case err
    (display-graphic-p (selected-window))
  (error
   (and (stringp (cadr err))
        (not (null (string-match-p "get-device-terminal" (cadr err)))))))
(condition-case err
    (display-color-p (selected-window))
  (error
   (and (stringp (cadr err))
        (not (null (string-match-p "get-device-terminal" (cadr err)))))))
(condition-case err
    (display-pixel-width (selected-window))
  (error
   (and (stringp (cadr err))
        (not (null (string-match-p "get-device-terminal" (cadr err)))))))
