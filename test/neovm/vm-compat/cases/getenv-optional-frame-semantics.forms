(subr-arity (symbol-function 'getenv))

(condition-case err
    (let ((v (getenv "HOME")))
      (if (stringp v) 'string v))
  (error err))
(condition-case err
    (let ((v (getenv "HOME" nil)))
      (if (stringp v) 'string v))
  (error err))

(condition-case err (getenv "HOME" '(x)) (error err))
(condition-case err (getenv 1 nil) (error err))
(condition-case err (getenv 1 '(x)) (error err))
(condition-case err (getenv "HOME" nil nil) (error err))
