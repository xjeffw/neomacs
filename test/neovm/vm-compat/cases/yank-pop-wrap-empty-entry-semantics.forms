; yank-pop rotation semantics with empty-string ring entries.
(with-temp-buffer
  (setq kill-ring (list "" "x" "y"))
  (setq kill-ring-yank-pointer kill-ring)
  (yank)
  (setq last-command 'yank)
  (yank-pop 1)
  (list (buffer-string) (car kill-ring-yank-pointer)))

(with-temp-buffer
  (setq kill-ring (list "" "x" "y"))
  (setq kill-ring-yank-pointer kill-ring)
  (yank)
  (setq last-command 'yank)
  (yank-pop 1)
  (setq last-command 'yank)
  (yank-pop 1)
  (list (buffer-string) (car kill-ring-yank-pointer)))

(with-temp-buffer
  (setq kill-ring (list "" "x" "y"))
  (setq kill-ring-yank-pointer kill-ring)
  (yank)
  (setq last-command 'yank)
  (yank-pop -1)
  (list (buffer-string) (car kill-ring-yank-pointer)))
