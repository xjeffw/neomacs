(minor-mode-key-binding "a")
(minor-mode-key-binding [])
(condition-case err
    (minor-mode-key-binding 1)
  (error err))
(let* ((m (make-sparse-keymap)))
  (define-key m (kbd "C-a") #'ignore)
  (let ((minor-mode-map-alist (list (cons 'demo-mode m)))
        (demo-mode t))
    (minor-mode-key-binding (kbd "C-a"))))
(let* ((m1 (make-sparse-keymap))
       (m2 (make-sparse-keymap)))
  (define-key m1 (kbd "C-a") #'ignore)
  (define-key m2 (kbd "C-a") #'forward-char)
  (let ((minor-mode-map-alist (list (cons 'mode1 m1)
                                    (cons 'mode2 m2)))
        (mode1 t)
        (mode2 t))
    (minor-mode-key-binding (kbd "C-a"))))
(let* ((m-minor (make-sparse-keymap))
       (m-emu (make-sparse-keymap)))
  (define-key m-minor (kbd "C-a") #'ignore)
  (define-key m-emu (kbd "C-a") #'forward-char)
  (let ((emulation-mode-map-alists (list (list (cons 'emu-mode m-emu))))
        (minor-mode-map-alist (list (cons 'minor-mode m-minor)))
        (emu-mode t)
        (minor-mode t))
    (minor-mode-key-binding (kbd "C-a"))))
(let* ((m-over (make-sparse-keymap))
       (m-minor (make-sparse-keymap)))
  (define-key m-over (kbd "C-a") #'forward-char)
  (define-key m-minor (kbd "C-a") #'ignore)
  (let ((minor-mode-overriding-map-alist (list (cons 'minor-mode m-over)))
        (minor-mode-map-alist (list (cons 'minor-mode m-minor)))
        (minor-mode t))
    (minor-mode-key-binding (kbd "C-a"))))
(let* ((m (make-sparse-keymap)))
  (define-key m (kbd "C-a") #'ignore)
  (let ((emu-alist (list (cons 'emu-mode m)))
        (emulation-mode-map-alists '(emu-alist))
        (emu-mode t))
    (minor-mode-key-binding (kbd "C-a"))))
(let ((minor-mode-map-alist '((demo-mode . 999999)))
      (demo-mode t))
  (condition-case err
      (minor-mode-key-binding (kbd "C-a"))
    (error err)))
(condition-case err
    (minor-mode-key-binding)
  (error err))
(condition-case err
    (minor-mode-key-binding "a" t 'extra)
  (error err))
