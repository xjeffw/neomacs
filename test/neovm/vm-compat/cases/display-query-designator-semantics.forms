; Lock in display query optional-argument designator behavior in batch mode.
(let ((term (car (terminal-list))))
  (list (display-graphic-p nil)
        (display-graphic-p term)
        (condition-case err (display-graphic-p 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-color-p nil)
        (display-color-p term)
        (condition-case err (display-color-p 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-pixel-width nil)
        (display-pixel-width term)
        (condition-case err (display-pixel-width 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-pixel-height nil)
        (display-pixel-height term)
        (condition-case err (display-pixel-height 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-mm-width nil)
        (display-mm-width term)
        (condition-case err (display-mm-width 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-mm-height nil)
        (display-mm-height term)
        (condition-case err (display-mm-height 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-screens nil)
        (display-screens term)
        (condition-case err (display-screens 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-color-cells nil)
        (display-color-cells term)
        (condition-case err (display-color-cells 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-planes nil)
        (display-planes term)
        (condition-case err (display-planes 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-visual-class nil)
        (display-visual-class term)
        (condition-case err (display-visual-class 999999) (error (car err)))))

(let ((term (car (terminal-list))))
  (list (display-backing-store nil)
        (display-backing-store term)
        (condition-case err (display-backing-store 999999) (error (car err)))))

(condition-case err
    (display-graphic-p 999999)
  (error (not (null (string-match-p "999999" (cadr err))))))

; Selected-window is not a display designator: all display queries should
; signal the generic display device error class.
(let ((w (selected-window)))
  (list
   (condition-case err (display-graphic-p w) (error (car err)))
   (condition-case err (display-color-p w) (error (car err)))
   (condition-case err (display-pixel-width w) (error (car err)))
   (condition-case err (display-pixel-height w) (error (car err)))
   (condition-case err (display-mm-width w) (error (car err)))
   (condition-case err (display-mm-height w) (error (car err)))
   (condition-case err (display-screens w) (error (car err)))
   (condition-case err (display-color-cells w) (error (car err)))
   (condition-case err (display-planes w) (error (car err)))
   (condition-case err (display-visual-class w) (error (car err)))
   (condition-case err (display-backing-store w) (error (car err)))))
