(with-temp-buffer
  (insert "abcdef")
  (newline)
  (insert "123456")
  (newline)
  (list (string-rectangle 1 9 "X") (point) (string-to-list (buffer-string))))
(with-temp-buffer
  (insert "abcdef")
  (newline)
  (insert "123456")
  (newline)
  (list (string-rectangle 2 10 "XX") (point) (string-to-list (buffer-string))))
(with-temp-buffer
  (insert "abcdef")
  (newline)
  (insert "123456")
  (newline)
  (list (string-rectangle 8 7 "ZZ") (point) (string-to-list (buffer-string))))
(with-temp-buffer
  (insert "abc")
  (list (string-rectangle 20 1 "x") (point) (string-to-list (buffer-string))))
(with-temp-buffer
  (insert "abcdef")
  (newline)
  (insert "123456")
  (newline)
  (list (string-rectangle 1 9 42) (point) (string-to-list (buffer-string))))
(with-temp-buffer
  (insert "abc")
  (list (string-rectangle 2 2 "X") (point) (string-to-list (buffer-string))))
(condition-case err (string-rectangle 1 9 1.5) (error (car err)))
(condition-case err (string-rectangle "x" 2 "a") (error (car err)))
(condition-case err (string-rectangle 1 "x" "a") (error (car err)))
